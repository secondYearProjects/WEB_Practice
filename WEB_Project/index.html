<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=PT+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <link rel="stylesheet" href="style.css" type="text/css">

    <title>U-record</title>
</head>

<body>

    <header>
        <div class="limiter">
            <div class="company-name">
                <img src="icons/company.jpg">
                <div class="text-group">
                    <p class="title">U-record</p>
                    <p class="slogan">Your grandpa would be surprised</p>
                </div>
            </div>

            <div class="company-contacts">
                <div class="text-group">
                    <p>+380 96 228 1337</p>
                    <p>+380 64 512 1024</p>
                    <p>call us</p>
                </div>
            </div>
        </div>
    </header>
    <div class="main-menu">
        <div class="limiter">
            <ul id="main-menu">
            </ul>
        </div>
    </div>
    <div class="slider" id="slider">
        <input type="button" class="left" onclick="nextSlide()" value="<">
        <input type="button" class="right" onclick="previousSlide()" value=">">
    </div>


    <section class="main-content">
        <div class="main-limiter">
            <div class="sidebar">dwqdw</div>
            <div class="content-column">
                <div class="content">fewfew</div>
                <header>dwqj ioqwiod qw</header>
            </div>
        </div>
    </section>
    <footer>...</footer>


</body>

<script>
    let menuItems = [
        { title: "Home", link: "index.html" },
        { title: "Catalog", link: "index.html" },
        { title: "Delivery", link: "index.html" },
        { title: "Price list", link: "index.html" },
        { title: "Contacts", link: "index.html" }
    ];

    let mainMenu = document.getElementById("main-menu");

    function addMenuItem(title, link) {
        if (mainMenu.innerHTML != "") {
            let newDelimeter = document.createElement("li");
            newDelimeter.innerHTML = "|";
            mainMenu.appendChild(newDelimeter);
        }
        let newMenuItem = document.createElement("li");
        let newLink = document.createElement("a");
        newLink.innerHTML = title;
        newLink.href = link;
        newMenuItem.appendChild(newLink);
        mainMenu.appendChild(newMenuItem);
    }

    mainMenu.innerHTML = "";
    menuItems.forEach(function (item) {
        addMenuItem(item.title, item.link);
    })

    let sliderImages = [
        "images/cover1.jpg",
        "images/cover2.jpg",
        "images/cover3.jpg",
        "images/cover4.jpg",
        "images/cover5.jpg",
        "images/cover6.jpg",
    ]
    let slider = document.getElementById("slider");
    sliderImages.forEach(function (item, i) {
        let newImg = document.createElement("img");
        newImg.src = item;
        newImg.id = "img" + String(i + 1);
        slider.appendChild(newImg);
    });


    //let sc = sliderImages.length;
    let current = 0;

    function showNext() {

    }
    let sc = $("#slider img").length;
    let count = 0;
    let processing = false;
    nextSlide();



    function nextSlide() {
        if (processing === false) {
            count = (count == sc) ? 1 : ++count;
            let time = 4000;
            let fade = 800;
            $("#slider #img" + count).fadeIn(fade).delay(time - 2 * fade).fadeOut(fade);
            processing = true;
            setTimeout(nextSlide, time);
            processing = false;
        }
    }

    function previousSlide() {
        count = (count == 1) ? sc : --count;
        let time = 4000;
        let fade = 800;
        $("#slider #img" + count).fadeIn(fade).delay(time - 2 * fade).fadeOut(fade);
        setTimeout(nextSlide, time);
    }
</script>

</html>